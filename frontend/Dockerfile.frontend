FROM node:20-alpine

WORKDIR /frontend

COPY package*.json ./

RUN yarn install

COPY . .

ENV API_BASE_URL=http://localhost:3000
ENV API_SECRET=ticetmp
ENV NODE_ENV=production
ENV PORT=8080

# เปิด port
EXPOSE 8080

# รันคำสั่งเริ่มต้นเซิร์ฟเวอร์
CMD ["yarn", "dev"]